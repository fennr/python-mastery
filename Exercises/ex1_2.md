\[ [Index](index.md) | [Exercise 1.1](ex1_1.md) | [Exercise 1.3](ex1_3.md) \]

# Упражнение 1.2

_Задачи:_

- Управление различными встроенные объектами Python

_Созданные файлы:_ None

## Part 1 : Числа

Численные вычисления работают в Python ровно так, как вы ожидаете.
Например:

```python
>>> 3 + 4*5
23
>>> 23.45 / 1e-02
2345.0
>>>
```

Целочисленное деление отличается в Python2 и Python3

```python
>>> 7 / 4      # В Python2 результат будет 1
1.75
>>> 7 // 4     # Целочисленное деление
1
>>>
```

Чтобы получить аналогичное поведение в Python2 можно сделать следующее:

```python
>>> from __future__ import division
>>> 7 / 4
1.75
>>> 7 // 4
1
>>>
```

Числа имеют небольшой набор методов, многие из которых появились совсем недавно
и зачастую упускаются разработчиками из виду.
Попробуйте:

```python
>>> x = 1172.5
>>> x.as_integer_ratio()
(2345, 2)
>>> x.is_integer()
False
>>> y = 12345
>>> y.numerator
12345
>>> y.denominator
1
>>> y.bit_length()
14
>>>
```

## Part 2 : Манипуляции со строками

Попробуйте поэкспериментировать с некоторыми строковыми методами

```python
>>> symbols.lower()
'hpq aapl ibm msft yhoo sco goog'
>>> symbols
'HPQ AAPL IBM MSFT YHOO SCO GOOG'
```

Помните, что строки неизменяемы. Если вы хотите сохранить результат, нужно поместить его в переменную.

```python
>>> lowersyms = symbols.lower()
>>> lowersyms
'hpq aapl ibm msft yhoo sco goog'
>>>
```

Попробуйте другие операции:

```python
>>> symbols.find('MSFT')
13
>>> symbols[13:17]
'MSFT'
>>> symbols = symbols.replace('SCO','')
>>> symbols
'HPQ AAPL IBM MSFT YHOO  GOOG'
>>>
```

## Part 3 : Манипуляции со списками

Ранее мы работали со строкой:

```python
>>> symbols = 'HPQ AAPL IBM MSFT YHOO  GOOG'
>>>
```

Используя операцию `split()` разделим ее на список отдельных слов:

```python
>>> symlist = symbols.split()
>>> symlist
['HPQ', 'AAPL', 'IBM', 'MSFT', 'YHOO', 'GOOG' ]
>>>
```

### (a) Извлечение и изменение элементов списка

Списки работают как массивы, где вы можете искать и изменять элементы
по числовому индексу. Попробуйте несколько примеров:

```python
>>> symlist[0]
'HPQ'
>>> symlist[1]
'AAPL'
>>> symlist[-1]
'GOOG'
>>> symlist[-2]
'YHOO'
>>>
```

Попробуйте переприсвоить один из элементов:

```python
>>> symlist[2] = 'AIG'
>>> symlist
['HPQ', 'AAPL', 'AIG', 'MSFT', 'YHOO', 'GOOG' ]
>>>
```

### (b) Перебор списка элементов

Цикл `for` работает, перебирая данные любой последовательности.
Проверь это, набрав следующий цикл:

```python
>>> for s in symlist:
        print('s =', s)

... посмотри на результат...
```

### (c) Тесты на наличие

Используй оператор `in` чтобы проверить содержатся ли элементы `'AIG'`,`'AA'`, и `'CAT'` среди элементов списка.

```python
>>> 'AIG' in symlist
True
>>> 'AA' in symlist
False
>>>
```

### (d) Добавление, вставка и удаление элементов

Используй метод `append()` чтобы добавить элемент `'RHT'` в конец `symlist`.

```python
>>> symlist.append('RHT')
>>> symlist
['HPQ', 'AAPL', 'AIG', 'MSFT', 'YHOO', 'GOOG', 'RHT']
>>>
```

Используй `insert()` чтобы добавить `'AA'` как второй элемент списка.

```python
>>> symlist.insert(1,'AA')
>>> symlist
['HPQ', 'AA', 'AAPL', 'AIG', 'MSFT', 'YHOO', 'GOOG', 'RHT']
>>>
```

Используй `remove()` чтобы удалить `'MSFT'` из списка.

```python
>>> symlist.remove('MSFT')
>>> symlist
['HPQ', 'AA', 'AAPL', 'AIG', 'YHOO', 'GOOG', 'RHT']
```

Попробуй вызвать `remove()` еще раз и посмотри что произойдет, если элемент не может быть найден.

```python
>>> symlist.remove('MSFT')
... посмотри что произойдет ...
>>>
```

Используй `index()` чтобы посмотеть индекс `'YHOO'` в списке.

```python
>>> symlist.index('YHOO')
4
>>> symlist[4]
'YHOO'
>>>
```

### (e) Сортировка списка

Просто используйте метод `sort()`:

```python
>>> symlist.sort()
>>> symlist
['AA', 'AAPL', 'AIG', 'GOOG', 'HPQ', 'RHT', 'YHOO']
>>>
```

Хотите отсортировать в обратном порядке? Попробуйте:

```python
>>> symlist.sort(reverse=True)
>>> symlist
['YHOO', 'RHT', 'HPQ', 'GOOG', 'AIG', 'AAPL', 'AA']
>>>
```

Примечание: При сортировке списка его содержимое изменяется "на месте" ("in-place").
Это означает, что операция выполняется на исходных элементах, новый список при этом не создается.

### (f) Списки чего угодно

Списки могут содержать объекты любого типа, включая другие списки. Попробуйте:

```python
>>> nums = [101,102,103]
>>> items = [symlist, nums]
>>> items
[['YHOO', 'RHT', 'HPQ', 'GOOG', 'AIG', 'AAPL', 'AA'], [101, 102, 103]]
```

Обратите внимание на вывод. `items` - это список с двумя элементами.
Каждый элемент представляет собой список.

Попробуйте выполнить поиск по вложенному списку:

```python
>>> items[0]
['YHOO', 'RHT', 'HPQ', 'GOOG', 'AIG', 'AAPL', 'AA']
>>> items[0][1]
'RHT'
>>> items[0][1][2]
'T'
>>> items[1]
[101, 102, 103]
>>> items[1][1]
102
>>>
```

## Part 4 : Словари

В списках Вы просто хранили элементы.
Однако предположим, вы хотите сопоставить их с другими данными, например с ценами.
Для этого используйте словарь:

```python
>>> prices = { 'IBM': 91.1, 'GOOG': 490.1, 'AAPL':312.23 }
>>>
```

Словарь сопоставляет ключи значениям. Вот как к ним получить доступ:

```python
>>> prices['IBM']
91.1
>>> prices['IBM'] = 123.45
>>> prices['HPQ'] = 26.15
>>> prices
{'GOOG': 490.1, 'AAPL': 312.23, 'IBM': 123.45, 'HPQ': 26.15}
>>>
```

Можно получить список ключей:

```python
>>> list(prices)
['GOOG', 'AAPL', 'IBM', 'HPQ']
>>>
```

Для удаления используйте `del`

```python
>>> del prices['AAPL']
>>> prices
{'GOOG': 490.1, 'IBM': 123.45, 'HPQ': 26.15}
>>>
```

\[ [Solution](soln1_2.md) | [Index](index.md) | [Exercise 1.1](ex1_1.md) | [Exercise 1.3](ex1_3.md) \]

---

`>>>` Advanced Python Mastery  
`...` A course by [dabeaz](https://www.dabeaz.com)  
`...` Copyright 2007-2023

![](https://i.creativecommons.org/l/by-sa/4.0/88x31.png). This work is licensed under a [Creative Commons Attribution-ShareAlike 4.0 International License](http://creativecommons.org/licenses/by-sa/4.0/)
